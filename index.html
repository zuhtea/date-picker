<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Date for fifisan ğŸ§ğŸ¥°</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin:0; padding:0; text-align:center;
    background: linear-gradient(135deg, #ffe4ec, #e4f0ff);
    min-height: 100vh;
  }
  .container {
    padding: 30px;
    max-width: 500px;
    margin: auto;
    background: white;
    border-radius: 20px;
    margin-top:50px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  }
  h1 { color: #e75480; }
  button {
    padding: 12px 25px; margin: 12px;
    font-size: 1rem; border-radius: 12px;
    border: none; cursor: pointer; transition:0.3s;
  }
  .choice-btn { background:#ffb6c1; color:white;}
  .choice-btn:hover { background:#ff85a2;}
  .option-btn { background:#ffe4e1; }
  .option-btn:hover { background:#ffccd5;}
  .telegram-btn { background:#0088cc; color:white; }
  .telegram-btn:hover { background:#006699; }
  .pick-again { background:#dcdcdc; }
  .hidden { display:none; }
  canvas { position:fixed; top:0; left:0; pointer-events:none; z-index:9999;}
</style>
</head>
<body>

<div id="main-page" class="container">
  <h1>ğŸ’ Date for fifisan ğŸ’</h1>
  <p>choose the kind of date you're in the mood for sayang... bc i tak tau:</p>

  <button class="choice-btn" onclick="showOptions('outdoorsy')">ğŸŒ¿ Outdoorsy sebab kite healthy</button>
  <button class="choice-btn" onclick="showOptions('romantic')">ğŸ’Œ Fun & Romantic sebab kite fun</button>
  <button class="choice-btn" onclick="showOptions('cozy')">â˜• Chill sebab kite malas kot</button>

  <div id="outdoorsy" class="hidden">
    <h2>Outdoorsy ğŸŒ¿</h2>
    <button class="option-btn" onclick="chooseDate('Cycling at East Coast + Satay + Ice Cream ğŸ¦')">Cycling at East Coast + Satay + Ice Cream</button>
    <button class="option-btn" onclick="chooseDate('Hiking at MacRitchie + Prata Breakfast ğŸ¥')">Hiking + Prata Breakfast</button>
    <button class="option-btn" onclick="chooseDate('Kayaking at Kallang + some halal food ğŸœ')">Kayaking at Kallang + some halal food</button>
  </div>

  <div id="romantic" class="hidden">
    <h2>Fun & Romantic ğŸ’Œ</h2>
    <button class="option-btn" onclick="chooseDate('Gardens by the Bay + Dinner + ice cream ğŸŒ¸')">Gardens by the Bay + Dinner + ice cream</button>
    <button class="option-btn" onclick="chooseDate('Sentosa Picnic + Sunset Walk ğŸŒ…')">Sentosa Picnic + Sunset Walk</button>
    <button class="option-btn" onclick="chooseDate('Night Safari + Supper ğŸŒ™')">Night Safari + Supper</button>
  </div>

  <div id="cozy" class="hidden">
    <h2>Chill â˜•</h2>
    <button class="option-btn" onclick="chooseDate('Board Game CafÃ© + some halal food ğŸ§‹')">Board Game CafÃ©</button>
    <button class="option-btn" onclick="chooseDate('Pottery + some halal food â˜•')">Pottery + some halal food</button>
    <button class="option-btn" onclick="chooseDate('something + some halal food ğŸ²')">something + some halal food</button>
  </div>

  <div id="result"></div>
  <button id="telegramBtn" class="telegram-btn hidden" onclick="confirmTelegram()">Confirm on Telegram ğŸ’¬</button>
  <button id="pickAgainBtn" class="pick-again hidden" onclick="pickAgainMain()">Pick Again ğŸ”„</button>
</div>

<div id="final-page" class="container hidden">
  <h1>Here's your chosen date, sayang! ğŸ’–</h1>
  <p id="final-date"></p>
  <button class="pick-again" onclick="pickAgainFinal()">Pick Again ğŸ”„</button>
</div>

<canvas id="confetti"></canvas>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<script>
let chosenDate = "";
const canvas = document.getElementById("confetti");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
let confettiInterval;

function showOptions(type){
  document.querySelectorAll('#main-page > div').forEach(d=>d.classList.add('hidden'));
  document.getElementById(type).classList.remove('hidden');
  document.getElementById("result").innerText = "";
  document.getElementById("telegramBtn").classList.add("hidden");
  document.getElementById("pickAgainBtn").classList.add("hidden");
}

function chooseDate(date){
  chosenDate = date;
  document.getElementById("result").innerText = "You picked: " + date;
  document.getElementById("telegramBtn").classList.remove("hidden");
  document.getElementById("pickAgainBtn").classList.remove("hidden");
}

function confirmTelegram(){
  const message = encodeURIComponent(`Hi Izzati ğŸ’•, I choose this date: ${chosenDate}!`);
  window.open(`https://t.me/nrztiii?text=${message}`, "_blank");

  // Hide main page, show final page
  document.getElementById("main-page").classList.add("hidden");
  document.getElementById("final-page").classList.remove("hidden");
  document.getElementById("final-date").innerText = chosenDate;

  startConfetti();
}

function pickAgainMain(){
  document.querySelectorAll('#main-page > div').forEach(d=>d.classList.add('hidden'));
  document.getElementById("outdoorsy").classList.add("hidden");
  document.getElementById("romantic").classList.add("hidden");
  document.getElementById("cozy").classList.add("hidden");
  document.getElementById("result").innerText = "";
  document.getElementById("telegramBtn").classList.add("hidden");
  document.getElementById("pickAgainBtn").classList.add("hidden");
  document.getElementById("main-page").classList.remove("hidden");
  stopConfetti();
}

function pickAgainFinal(){
  document.getElementById("final-page").classList.add("hidden");
  document.getElementById("main-page").classList.remove("hidden");
  stopConfetti();
}

// Confetti functions
function startConfetti(){
  confettiInterval = setInterval(()=> {
    confetti({
      particleCount: 5,
      angle: 60,
      spread: 55,
      origin: {x:0},
      colors: ['#ff0000','#ff7f00','#ffff00','#00ff00','#0000ff','#4b0082','#8f00ff']
    });
    confetti({
      particleCount: 5,
      angle: 120,
      spread: 55,
      origin: {x:1},
      colors: ['#ff0000','#ff7f00','#ffff00','#00ff00','#0000ff','#4b0082','#8f00ff']
    });
  }, 200);
}

function stopConfetti(){
  clearInterval(confettiInterval);
  ctx.clearRect(0,0,canvas.width,canvas.height);
}
</script>
</body>
</html>
